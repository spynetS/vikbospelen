<nav id="site-nav" class="fixed top-0 w-full bg-[#fafafa] flex md:flex-row flex-col md:justify-between shadow-lg z-20 transition-transform duration-300 p-2 md:px-10 md:rounded-bl-full md:rounded-br-full">
  <div class="flex items-center justify-between">
    <!-- Logo -->
    <img onclick="window.location.href='/'" class="h-10 cursor-pointer" src="/static/logo.png" alt="Logo" />

    <!-- Mobile Toggle Button -->
    <button id="menu-toggle" class="md:hidden text-5xl text-gray-700 focus:outline-none">
      ☰
    </button>
  </div>

  <!-- Menu Items -->
  <div id="mobile-menu" class="mt-3 hidden flex-col gap-4 md:flex md:flex-row md:items-center md:justify-between md:mt-0 transition-all duration-300 text-gray-800 font-thin font-serif">
    <div class="flex flex-col md:flex-row md:gap-8 gap-2 items-start md:items-center">
      <a class="hover:text-black duration-150 text-shadow-sm" href="/">HEM</a>
      <a class="hover:text-black duration-150 text-shadow-sm" href="/forestallningar">FÖRESTÄLLNINGAR</a>
      <a class="hover:text-black duration-150 text-shadow-sm" href="/kontakt">KONTAKTA OSS/MEDLEMSKAP</a>
      <a class="hover:text-black duration-150 text-shadow-sm" href="/om-oss">OM OSS</a>
      <a class="hover:text-black duration-150 text-shadow-sm" href="/admin">LOGIN</a>
    </div>

    <!-- Search form -->
    <form method="GET" action="{% url 'plays_over_time' %}" class="flex flex-row gap-2 w-full md:w-auto mt-2 md:mt-0">
      <input type="search" name="search" value="" class="textfield h-8 w-full md:w-auto" placeholder="Sök"/>
      <button type="submit" class="btn btn-secondary h-8">Sök</button>
    </form>
  </div>
  <span></span>
</nav>

<!-- Toggle script -->
<script>
 document.getElementById('menu-toggle').addEventListener('click', function () {
     const menu = document.getElementById('mobile-menu');
     menu.classList.toggle('hidden');
 });
 (function() {
     const nav = document.getElementById('site-nav');
     let lastScrollY = window.pageYOffset;

     window.addEventListener('scroll', () => {
		 const currentScrollY = window.pageYOffset;
		 if (currentScrollY > lastScrollY && currentScrollY > 50) {
			 // Scrolling down and past 50px → hide
			 nav.classList.add('-translate-y-full');
		 } else {
			 // Scrolling up → show
			 nav.classList.remove('-translate-y-full');
		 }
		 lastScrollY = currentScrollY;
     });
 })();
</script>
